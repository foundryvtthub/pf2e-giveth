{"mappings":"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","sources":["src/main.ts","../../../../Projects/foundry-ts/utils/foundry/hook.ts","../../../../Projects/foundry-ts/utils/foundry/settings.ts","src/module.ts","../../../../Projects/foundry-ts/utils/foundry/path.ts","../../../../Projects/foundry-ts/utils/foundry/user.ts","../../../../Projects/foundry-ts/utils/socket.ts","src/canvas.ts","src/giveth.ts","../../../../Projects/foundry-ts/utils/foundry/i18n.ts","../../../../Projects/foundry-ts/utils/foundry/notifications.ts","../../../../Projects/foundry-ts/utils/foundry/uuid.ts","../../../../Projects/foundry-ts/utils/pf2e.ts","../../../../Projects/foundry-ts/utils/set.ts","src/apps/popup.ts","src/utils.ts","src/sheet.ts","src/socket.ts"],"sourcesContent":["import { registerUpstreamHook } from './@utils/foundry/hook'\r\nimport { registerSetting } from './@utils/foundry/settings'\r\nimport { isGM } from './@utils/foundry/user'\r\nimport { socketOn } from './@utils/socket'\r\nimport { onDropCanvasData } from './canvas'\r\nimport { onDropActorSheetData } from './sheet'\r\nimport { onPacketReceived } from './socket'\r\n\r\nHooks.once('init', () => {\r\n    registerSetting({\r\n        name: 'message',\r\n        type: Boolean,\r\n        default: true,\r\n        config: true,\r\n    })\r\n\r\n    if (isGM()) return\r\n    registerUpstreamHook('dropCanvasData', onDropCanvasData)\r\n    registerUpstreamHook('dropActorSheetData', onDropActorSheetData)\r\n})\r\n\r\nHooks.once('ready', () => {\r\n    if (!game.user.isGM) return\r\n    socketOn(onPacketReceived)\r\n})\r\n","export function registerUpstreamHook(hook: string, fn: (...args: any) => void) {\r\n    const id = Hooks.on(hook, fn)\r\n    const index = Hooks.events[hook].findIndex(x => x.id === id)\r\n    if (index !== 0) {\r\n        const [hooked] = Hooks.events[hook].splice(index, 1)\r\n        Hooks.events[hook].unshift(hooked)\r\n    }\r\n}\r\n","import MODULE_ID from '~./src/module'\r\nimport { getSettingLocalizationPath } from './path'\r\n\r\nexport function getSetting<T extends any>(key: string) {\r\n    return game.settings.get(MODULE_ID, key) as T\r\n}\r\n\r\nexport function setSetting(key: string, value: unknown) {\r\n    return game.settings.set(MODULE_ID, key, value)\r\n}\r\n\r\n/**\r\n * options.scope = 'world'\r\n *\r\n * options.config = false\r\n */\r\nexport function registerSetting(\r\n    options: Omit<SettingRegistration, 'choices'> & { choices?: string[] | Record<string, unknown> }\r\n) {\r\n    const name = options.name\r\n    options.scope = options.scope ?? 'world'\r\n    options.config = options.config ?? false\r\n    if (options.config) {\r\n        options.name = getSettingLocalizationPath(name, 'name')\r\n        options.hint = getSettingLocalizationPath(name, 'hint')\r\n    }\r\n    if (Array.isArray(options.choices)) {\r\n        options.choices = options.choices.reduce((choices, choice) => {\r\n            choices[choice] = getSettingLocalizationPath(name, 'choices', choice)\r\n            return choices\r\n        }, {} as Record<string, unknown>)\r\n    }\r\n    game.settings.register(MODULE_ID, name, options as SettingRegistration)\r\n}\r\n\r\n/**\r\n * options.restricted = true\r\n *\r\n * options.icon = 'fas fa-cogs'\r\n */\r\nexport function registerSettingMenu(\r\n    options: RequiredBy<Partial<Omit<SettingSubmenuConfig, 'type'>>, 'name'> & { type: ConstructorOf<FormApplication> }\r\n) {\r\n    const name = options.name\r\n    options.name = getSettingLocalizationPath('menus', name, 'name')\r\n    options.label = getSettingLocalizationPath('menus', name, 'label')\r\n    options.hint = getSettingLocalizationPath('menus', name, 'hint')\r\n    options.restricted = options.restricted ?? true\r\n    options.icon = options.icon ?? 'fas fa-cogs'\r\n    game.settings.registerMenu(MODULE_ID, name, options as SettingSubmenuConfig)\r\n}\r\n\r\nexport function getCombatTrackerConfig() {\r\n    return game.settings.get('core', 'combatTrackerConfig') as { resource: string; skipDefeated: boolean }\r\n}\r\n","export default 'pf2e-giveth'","import MODULE_ID from '~./src/module'\r\n\r\nexport function getSettingLocalizationPath(...path: string[]) {\r\n    return `${MODULE_ID}.settings.${path.join('.')}`\r\n}\r\n\r\nexport function flagsUpdatePath(...path: string[]) {\r\n    return `flags.${MODULE_ID}.${path.join('/')}`\r\n}\r\n\r\nexport function templatePath(...path: string[]) {\r\n    path = path.filter(x => typeof x === 'string')\r\n    return `modules/${MODULE_ID}/templates/${path.join('/')}`\r\n}\r\n\r\nexport function imagePath(...path: string[]) {\r\n    return `modules/${MODULE_ID}/images/${path.join('/')}`\r\n}\r\n","export function isGM() {\r\n    const data = game.data as Game['data'] & { userId: string }\r\n    const user = data.users.find(x => x._id === data.userId)\r\n    return !!user && user.role >= CONST.USER_ROLES.GAMEMASTER\r\n}\r\n\r\nexport function getOwners(doc: foundry.abstract.Document, connected = false) {\r\n    if (connected) return game.users.filter(x => x.active && doc.testUserPermission(x, 'OWNER'))\r\n    return game.users.filter(x => doc.testUserPermission(x, 'OWNER'))\r\n}\r\n\r\nexport function getOwner(doc: foundry.abstract.Document, connected = false) {\r\n    if (connected) return game.users.find(x => x.active && doc.testUserPermission(x, 'OWNER'))\r\n    return game.users.find(x => doc.testUserPermission(x, 'OWNER'))\r\n}\r\n\r\nexport function getGM(connected = false) {\r\n    if (connected) return game.users.find(x => x.active && x.isGM)\r\n    return game.users.find(x => x.isGM)\r\n}\r\n","import MODULE_ID from '~./src/module'\r\n\r\nexport function socketOn<T extends SocketPacket = SocketPacket>(callback: SocketCallback<T>) {\r\n    game.socket.on(`module.${MODULE_ID}`, callback)\r\n}\r\n\r\nexport function socketEmit<T extends SocketPacket = SocketPacket>(packet: T) {\r\n    game.socket.emit(`module.${MODULE_ID}`, packet)\r\n}\r\n","import { giveth } from './giveth'\r\nimport { getDetailsFromData, isValidActor } from './utils'\r\n\r\nexport function onDropCanvasData(canvas: Canvas, data: DropCanvasData) {\r\n    const details = getDetailsFromData(data)\r\n    if (!details) return true\r\n\r\n    const target = canvas.tokens.placeables\r\n        .slice()\r\n        .filter(token => {\r\n            if (!token.document.actorLink) return false\r\n\r\n            const target = token.actor as ActorPF2e\r\n            if (!isValidActor(target, data.actorId) || target.isOwner) return false\r\n\r\n            const maximumX = token.x + (token.hitArea?.right ?? 0)\r\n            const maximumY = token.y + (token.hitArea?.bottom ?? 0)\r\n            return data.x >= token.x && data.y >= token.y && data.x <= maximumX && data.y <= maximumY\r\n        })\r\n        .sort((a, b) => b.document.sort - a.document.sort)\r\n        .at(0)?.actor\r\n\r\n    if (!target) return true\r\n\r\n    giveth(details.actor, target as ActorPF2e, details.item)\r\n    return false\r\n}\r\n","import { localize } from './@utils/foundry/i18n'\r\nimport { warn } from './@utils/foundry/notifications'\r\nimport { getSetting } from './@utils/foundry/settings'\r\nimport { chatUUID, fakeChatUUID } from './@utils/foundry/uuid'\r\nimport { hasInvestedProperty } from './@utils/pf2e'\r\nimport { socketEmit } from './@utils/socket'\r\nimport { MoveLootPopup } from './apps/popup'\r\n\r\nexport async function transferItem({ ownerId, targetId, itemId, qty, stack }: GivethData) {\r\n    const owner = game.actors.get<ActorPF2e>(ownerId)\r\n    const target = game.actors.get<ActorPF2e>(targetId)\r\n    if (!owner || !target) return\r\n\r\n    const item = owner.items.get(itemId) as PhysicalItemPF2e | undefined\r\n    if (!item) return\r\n\r\n    qty = Math.min(qty, item.quantity)\r\n    const newQty = item.quantity - qty\r\n\r\n    const obj = item.toObject()\r\n    obj.system.quantity = qty\r\n    obj.system.equipped.carryType = 'worn'\r\n    if (hasInvestedProperty(obj)) {\r\n        obj.system.equipped.invested = item.traits.has('invested') ? false : null\r\n    }\r\n\r\n    const newItem = await target.addToInventory(obj, undefined, stack)\r\n    if (!newItem) return\r\n\r\n    if (newQty < 1) item.delete()\r\n    else item.update({ 'system.quantity': newQty })\r\n\r\n    if (!getSetting('message')) return\r\n\r\n    const msg = qty > 1 ? 'notification.withQty' : 'notification.withoutQty'\r\n    const link = newItem.isIdentified ? chatUUID(newItem.uuid) : fakeChatUUID(newItem.name)\r\n    console.log(newItem, newItem.isIdentified)\r\n\r\n    ChatMessage.create({\r\n        content: localize(msg, { qty, item: link, target: target.name }),\r\n        speaker: ChatMessage.getSpeaker({ actor: owner }),\r\n    })\r\n}\r\n\r\nexport function giveth(owner: ActorPF2e, target: ActorPF2e, item: PhysicalItemPF2e) {\r\n    const qty = item.quantity\r\n    if (qty < 1) return warn('zero')\r\n    if (qty === 1) return sendRequest(owner, target, item, 1, false)\r\n\r\n    const options = { maxQuantity: qty, lockStack: false, isPurchase: false }\r\n    new MoveLootPopup(owner, options, (qty, stack) => sendRequest(owner, target, item, qty, stack)).render(true)\r\n}\r\n\r\nfunction sendRequest(owner: ActorPF2e, target: ActorPF2e, item: PhysicalItemPF2e, qty: number, stack: boolean) {\r\n    socketEmit<Packet>({\r\n        type: 'giveth',\r\n        ownerId: owner.id,\r\n        targetId: target.id,\r\n        itemId: item.id,\r\n        qty,\r\n        stack,\r\n    })\r\n}\r\n","import MODULE_ID from '~./src/module'\r\n\r\nexport function localize(key: string, data?: Record<string, string | number>) {\r\n    key = `${MODULE_ID}.${key}`\r\n    if (data) return game.i18n.format(key, data)\r\n    return game.i18n.localize(key)\r\n}\r\n\r\nexport function subLocalize(subKey: string) {\r\n    const fn = (key: string, data?: Record<string, string>) => localize(`${subKey}.${key}`, data)\r\n    Object.defineProperty(fn, 'key', {\r\n        get() {\r\n            return subKey\r\n        },\r\n        enumerable: false,\r\n        configurable: false,\r\n    })\r\n    return fn as ((key: string, data?: Record<string, string>) => string) & { key: string }\r\n}\r\n","import { localize } from './i18n'\r\n\r\nexport function notify(\r\n    str: string,\r\n    arg1?: 'warning' | 'info' | 'error' | boolean | Record<string, string>,\r\n    arg2?: boolean | Record<string, string>,\r\n    arg3?: boolean\r\n) {\r\n    const type = typeof arg1 === 'string' ? arg1 : 'info'\r\n    const data = typeof arg1 === 'object' ? arg1 : typeof arg2 === 'object' ? arg2 : undefined\r\n    const permanent = typeof arg1 === 'boolean' ? arg1 : typeof arg2 === 'boolean' ? arg2 : arg3 ?? false\r\n\r\n    ui.notifications.notify(localize(str, data), type, { permanent })\r\n}\r\n\r\nexport function warn(str: string, arg1?: boolean | Record<string, string>, arg2?: boolean) {\r\n    notify(str, 'warning', arg1, arg2)\r\n}\r\n\r\nexport function info(str: string, arg1?: boolean | Record<string, string>, arg2?: boolean) {\r\n    notify(str, 'info', arg1, arg2)\r\n}\r\n\r\nexport function error(str: string, arg1?: boolean | Record<string, string>, arg2?: boolean) {\r\n    notify(str, 'error', arg1, arg2)\r\n}\r\n","export function documentUuidFromTableResult(result: TableResult) {\r\n    if (result.type === CONST.TABLE_RESULT_TYPES.DOCUMENT) return `${result.documentCollection}.${result.documentId}`\r\n    if (result.type === CONST.TABLE_RESULT_TYPES.COMPENDIUM) return `Compendium.${result.documentCollection}.${result.documentId}`\r\n    return undefined\r\n}\r\n\r\nexport function chatUUID(uuid: string, name?: string) {\r\n    if (name) return `@UUID[${uuid}]{${name}}`\r\n    return `@UUID[${uuid}]`\r\n}\r\n\r\nexport function fakeChatUUID(name: string) {\r\n    return `<span style=\"background: #DDD;\r\n    padding: 1px 4px;\r\n    border: 1px solid var(--color-border-dark-tertiary);\r\n    border-radius: 2px;\r\n    white-space: nowrap;\r\n    word-break: break-all;\">${name}</span>`\r\n}\r\n","import { setHasElement } from './set'\r\n\r\nexport const PHYSICAL_ITEM_TYPES = new Set([\r\n    'armor',\r\n    'backpack',\r\n    'book',\r\n    'consumable',\r\n    'equipment',\r\n    'treasure',\r\n    'weapon',\r\n] as const)\r\n\r\nexport const dcByLevel = new Map([\r\n    [-1, 13],\r\n    [0, 14],\r\n    [1, 15],\r\n    [2, 16],\r\n    [3, 18],\r\n    [4, 19],\r\n    [5, 20],\r\n    [6, 22],\r\n    [7, 23],\r\n    [8, 24],\r\n    [9, 26],\r\n    [10, 27],\r\n    [11, 28],\r\n    [12, 30],\r\n    [13, 31],\r\n    [14, 32],\r\n    [15, 34],\r\n    [16, 35],\r\n    [17, 36],\r\n    [18, 38],\r\n    [19, 39],\r\n    [20, 40],\r\n    [21, 42],\r\n    [22, 44],\r\n    [23, 46],\r\n    [24, 48],\r\n    [25, 50],\r\n])\r\n\r\nexport const dcAdjustments = new Map([\r\n    ['incredibly easy', -10],\r\n    ['very easy', -5],\r\n    ['easy', -2],\r\n    ['normal', 0],\r\n    ['hard', 2],\r\n    ['very hard', 5],\r\n    ['incredibly hard', 10],\r\n])\r\n\r\nexport const MAGIC_TRADITIONS = new Set(['arcane', 'divine', 'occult', 'primal']) as Set<MagicTradition>\r\n\r\nexport function adjustDC(dc: number, adjustment: DCAdjustment = 'normal') {\r\n    return dc + (dcAdjustments.get(adjustment) ?? 0)\r\n}\r\n\r\nexport function rarityToDCAdjustment(rarity: Rarity = 'common'): PositiveDCAdjustment {\r\n    if (rarity === 'uncommon') return 'hard'\r\n    else if (rarity === 'rare') return 'very hard'\r\n    else if (rarity === 'unique') return 'incredibly hard'\r\n    else return 'normal'\r\n}\r\n\r\nexport function adjustDCByRarity(dc: number, rarity: Rarity = 'common') {\r\n    return adjustDC(dc, rarityToDCAdjustment(rarity))\r\n}\r\n\r\nexport function calculateDC(level: number, { proficiencyWithoutLevel = false, rarity = 'common' }: DCOptions = {}) {\r\n    // assume level 0 if garbage comes in. We cast level to number because the backing data may actually have it\r\n    // stored as a string, which we can't catch at compile time\r\n    const dc = dcByLevel.get(level) ?? 14\r\n    if (proficiencyWithoutLevel) {\r\n        // -1 shouldn't be subtracted since it's just\r\n        // a creature level and not related to PC levels\r\n        return adjustDCByRarity(dc - Math.max(level, 0), rarity)\r\n    } else {\r\n        return adjustDCByRarity(dc, rarity)\r\n    }\r\n}\r\n\r\n/** Extract all traits from an item, that match a magic tradition */\r\nfunction getMagicTraditions(item: PhysicalItemPF2e) {\r\n    const traits = item.system.traits.value\r\n    return new Set(traits.filter(t => setHasElement(MAGIC_TRADITIONS, t)))\r\n}\r\n\r\nexport function identifyMagic(item: PhysicalItemPF2e, baseDc: number, notMatchingTraditionModifier: number) {\r\n    const result = {\r\n        occult: baseDc,\r\n        primal: baseDc,\r\n        divine: baseDc,\r\n        arcane: baseDc,\r\n    }\r\n    const traditions = getMagicTraditions(item)\r\n    for (const key of MAGIC_TRADITIONS) {\r\n        // once an item has a magic tradition, all skills\r\n        // that don't match the tradition are hard\r\n        if (traditions.size > 0 && !traditions.has(key)) {\r\n            result[key] = baseDc + notMatchingTraditionModifier\r\n        }\r\n    }\r\n    return { arc: result.arcane, nat: result.primal, rel: result.divine, occ: result.occult }\r\n}\r\n\r\n/** All cursed items are incredibly hard to identify */\r\nexport function getDcRarity(item: PhysicalItemPF2e) {\r\n    return item.traits.has('cursed') ? 'unique' : item.rarity\r\n}\r\n\r\nexport function identifyItem(\r\n    item: PhysicalItemPF2e,\r\n    { proficiencyWithoutLevel = false, notMatchingTraditionModifier }: IdentifyItemOptions,\r\n    noDC = false\r\n) {\r\n    const baseDC = calculateDC(item.level, { proficiencyWithoutLevel })\r\n    const rarity = getDcRarity(item)\r\n    const dc = adjustDCByRarity(baseDC, rarity)\r\n    if (item.isMagical) return identifyMagic(item, dc, notMatchingTraditionModifier)\r\n    if (!noDC) return { cra: dc }\r\n    if (item.isAlchemical) return { cra: dc }\r\n    return { dc: dc }\r\n}\r\n\r\nexport function hasInvestedProperty(source: ItemSourcePF2e): source is MagicItemSource {\r\n    return isPhysicalData(source) && 'invested' in source.system.equipped\r\n}\r\n\r\n/** Checks if the given item data is a physical item with a quantity and other physical fields. */\r\nexport function isPhysicalData(source: ItemSourcePF2e): source is PhysicalItemSource\r\nexport function isPhysicalData(source: PreCreate<ItemSourcePF2e>): source is PreCreate<PhysicalItemSource>\r\nexport function isPhysicalData(source: ItemSourcePF2e | PreCreate<ItemSourcePF2e>): boolean {\r\n    return setHasElement(PHYSICAL_ITEM_TYPES, source.type)\r\n}\r\n","/** Check if an element is present in the provided set. Especially useful for checking against literal sets */\r\nexport function setHasElement<T extends Set<unknown>>(set: T, value: unknown): value is SetElement<T> {\r\n    return set.has(value)\r\n}\r\n","export class MoveLootPopup extends FormApplication<{}, MoveLootOptions> {\r\n    onSubmitCallback: MoveLootCallback\r\n\r\n    constructor(object: ActorPF2e, options: Partial<MoveLootOptions>, callback: MoveLootCallback) {\r\n        super(object, options)\r\n\r\n        this.onSubmitCallback = callback\r\n    }\r\n\r\n    override async getData() {\r\n        const [prompt, buttonLabel] = this.options.isPurchase\r\n            ? ['PF2E.loot.PurchaseLootMessage', 'PF2E.loot.PurchaseLoot']\r\n            : ['PF2E.loot.MoveLootMessage', 'PF2E.loot.MoveLoot']\r\n\r\n        return {\r\n            ...(await super.getData()),\r\n            maxQuantity: this.options.maxQuantity,\r\n            newStack: this.options.newStack,\r\n            lockStack: this.options.lockStack,\r\n            prompt,\r\n            buttonLabel,\r\n        }\r\n    }\r\n\r\n    static override get defaultOptions(): MoveLootOptions {\r\n        return {\r\n            ...super.defaultOptions,\r\n            id: 'MoveLootPopup',\r\n            classes: [],\r\n            title: game.i18n.localize('PF2E.loot.MoveLootPopupTitle'),\r\n            template: 'systems/pf2e/templates/popups/loot/move-loot-popup.hbs',\r\n            width: 'auto',\r\n            maxQuantity: 1,\r\n            newStack: false,\r\n            lockStack: false,\r\n            isPurchase: false,\r\n        }\r\n    }\r\n\r\n    override async _updateObject(_event: ElementDragEvent, formData: Record<string, unknown> & MoveLootFormData): Promise<void> {\r\n        this.onSubmitCallback(formData.quantity, formData.newStack)\r\n    }\r\n}\r\n","export function getDetailsFromData(data: DropData) {\r\n    if (data.tokenId || data.type !== 'Item' || !data.uuid) return\r\n\r\n    const actorId = data.actorId\r\n    const actor = actorId ? game.actors.get<ActorPF2e>(actorId) : undefined\r\n    if (!isValidActor(actor) || !actor.isOwner) return\r\n\r\n    const itemId = data.uuid.split('.').at(-1)!\r\n    const item = actor.items.get(itemId) as ItemPF2e | undefined\r\n\r\n    if (item && item.isOfType('physical')) return { actor, item }\r\n}\r\n\r\nexport function isValidActor(actor: ActorPF2e | undefined, id?: string): actor is CharacterPF2e | NPCPF2e | VehiclePF2e {\r\n    if (!actor || (id && actor.id === id)) return false\r\n    return actor.hasPlayerOwner && !actor.isToken && actor.isOfType('character', 'npc', 'vehicle')\r\n}\r\n","import { giveth } from './giveth'\r\nimport { getDetailsFromData, isValidActor } from './utils'\r\n\r\nexport function onDropActorSheetData(target: ActorPF2e, targetSheet: ActorSheetPF2e, data: DropData) {\r\n    if (target.isOwner || !isValidActor(target, data.actorId)) return true\r\n\r\n    const details = getDetailsFromData(data)\r\n    if (!details) return true\r\n\r\n    giveth(details.actor, target, details.item)\r\n    return false\r\n}\r\n","import { transferItem } from './giveth'\r\n\r\nexport function onPacketReceived(packet: Packet) {\r\n    switch (packet.type) {\r\n        case 'giveth':\r\n            transferItem(packet)\r\n            break\r\n    }\r\n}\r\n"],"names":[],"version":3,"file":"main.js.map"}